---
layout: post
title: Planning ahead the agile way  
---

Agile is shortsighted! In SCRUM you are only interested in whats going on in the next sprint! Kanban focusses only on what's next! Long term planning is not agile! Sounds familiar? The gap between short term (sprint-)planning and long term roadmaps is an often discussed focus point in the world of agile and an often cited reason why "our company cannot do agile". 
And it is true. A lot of litarature advertieses only the fast reaction time and short iteration cycles that agile methods give us, especially if applied to software development. But it is also true, that a lot of business-areas are operating on longer cycles than single sprints. Yearly budget allocations, fixed amount projects and hard deadlines are real and existing challenges in the industry. Leaving aside if this is how it should be - or not - for the moment, those practices are still alive and kicking in a lot of industrial sectors such as the medical or machine industry. 

So how do we as software deliverers go about catering to these long and slow cycles? We are frequently asked about roadmaps, deadlines, milestones and so on and often enough we are tempted to say, "we don't want to know, we're doing agile". Often we really don't know in the sense of "we are not sure if it is going to work out in the way we think right now", but often enough we have tons of ideas and visions where a project could go. After all this is part of our experience and training and often this is essenatially why the customer picked us over any competition or our team was assigned to do this particular piece of software. Sometimes we can even predict things down to single features. But instead of making that information transparent and visible to the customer and ourself, we hide it behind the "agile doesn't do long-term planning" credo. 

And that is wrong. Agile should do and advertise long term planning, it just should do it in the - surprise! - agile way. Long term plans should be living documents that get adapted as we learn more about the project. They should also be coarser than our daily work. I usually pick a frequency for doing the roadmapping-sessions with the team that is at least twice the frequency of the time horizon of the roadmap. For most teams I know this settles around four times a year. The goal of such roadmapping-sessions is not primarily to generate content - that should happen all the time -, but to provide a well defined snapshot of what at the time is seen as the most likely direction a piece of software could take. Word of warning here, if done for the first time this can be time consuming and, but it gets better with each roadmap iteration. 

![Timetable illustrating the size of roadmap and roadmapping sessions]({{ site.baseurl }}/images/agile-roadmapping/roadmapping_session_timetable.jpg)

# Building content for a roadmap 

My preferred approach to building up or refining a roadmap is to first focus on content in a top down manner and do any estimation or sequenstial ordering later. Also a very important and often forgotten step is the throwing away of old and unimportant ideas and roadmap items.  
If there is an existing roadmap to refine, I start with the team and the PO by throwing out everything which we no longer see as important or as unfeasible at the moment. Really throw it away, make it invisible on the roadmap just moving it to a "to be done later" section will clutter up things very fast. If things are really is important they will pop up again. By completely throwing away unripe ideas we reward just-in-time planning ahead, because the less you invested in one of these items the easier it is to throw away. A sure sign of a mature team and a realistic roadmap is that there is no fuss about cutting away anything that is no longer worth the effort. Of course with all the throwing away it is really helpful if you can archive the old snapshots of the roadmap.
After this pruning I have the team selecting a few overarching themes or visions on which the team wants to focus and work in the future. Experience shows that it is better here to focus on a broad understanding first than to work down individual topics. Once these topcis are selected and grouped have your team work downwards by splitting these issues into smaller and smaller packages until the team thinks that the majority of them fit inside the selected period.  This usually takes one or more session/meeting per topics, so this can become quite time consuming. Which is again why we reduce this by pruning to. My tool of choice is to do this with sticky notes on a whiteboard or paper and digitalize once the snapshot is done. Usually being able to make a decision on one level of a tree needs you to know the next lower as well.  

![Roadmapping tree without any estimation]({{ site.baseurl }}/images/agile-roadmapping/tree_without_estimation.jpg) 

The next step is to assign priorities to the leaves of the tree, as opposed to the backlog these should not be unique priorites but simplified ones like (high, medium, low) alternatively ask the PO or any stakeholders to help assigning a value or impact to the items. Then have the developers do an relative t-shirt size estimate (S, M, L) of the leaves. This usually results in a list of small, high-priorty issues to put on a roadmap. I usually let the team pick very few of the issues to put on a roadmap. Depending on the team size and granularity this may vary but usually less than half the number of sprints in a roadmapping period sometimes only one or two. This again helps the team to find a good granularity for the items in the next roadmap iteration. It is also important to get the team to agree on how to proceeed if for some reason we should run out of small, urgent issues to fix. Either do the small, medium ones next or even better break down the urgent, medium-sized ones into new smaller chunks. 

![Roadmapping tree incldung size and priorty estimation]({{ site.baseurl }}/images/agile-roadmapping/tree_including_estimation.jpg)

# From roadmap to backlog 

Once the team is happy with the content of the tree, take the issues and put them in a proposed order of execution. It may help to keep some levels of hierarchy visible on the roadmap to show how big the context swtiches between individual items are. This is often a visualisation to be shown outside the team and to do more strategic planning on. What remains is to break the roadmap items down into workable and ready stories.

![Roadmap ordered by order of execution]({{ site.baseurl }}/images/agile-roadmapping/Flow_visualisation_of_roadmap.jpg)

For me this often means taking them as they are and putting them at the bottom of the backlog and thus incorporate these items into the regular backlog refinement process. Also as soon as I start to break these items down into stories I make sure that I retain the traceability to the roadmap item, so I can trace the progress or deviation from the roadmap. This helps as well with pruning items that do not make the cut, As a rule of thumb I try not to keep any issue that has not made it into the roadmap for longer than one roadmap cycle.  If they are urgent they usually make it to the roadmap or elase they are not that important. 

![The product backlog containig the roadmap items]({{ site.baseurl }}/images/agile-roadmapping/backlog-including-roadmap-items.jpg)

# Using the roadmap in the daily work 

I like to print out the roadmap and put it up next to the agile wall, so I can refer to it easily during the daily stand ups. Some teams even pinned done stories to the respective roadmap item it belonged to to se how closely we follow our plan and to facilitate discussions about deviations. Deviations are of course not bad at all, but it helps to visualize them and conscious of when, why and how they happen. This information then can also be taken to the sprint planning and after a few iterations serves as a good indicator for the next roadmapping period. 